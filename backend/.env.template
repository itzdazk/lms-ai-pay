# ==========================================
# üåç CHUNG & SERVER
# ==========================================
TZ=Asia/Ho_Chi_Minh
NODE_ENV=development
PORT=5000
API_VERSION=v1
LOG_LEVEL=debug

# URLs
SERVER_URL=http://localhost:5000
CLIENT_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# ==========================================
# üóÑÔ∏è C∆† S·ªû D·ªÆ LI·ªÜU (DATABASE & CACHE)
# ==========================================
# C·∫•u h√¨nh PostgreSQL (S·ª≠ d·ª•ng pgvector Docker)
DATABASE_URL="postgresql://[username]:[password]@[host]:[port]/[database_name]?schema=public"

# C·∫•u h√¨nh PostgreSQL (S·ª≠ d·ª•ng DB Local)
# DATABASE_URL="postgresql://[username]:[password]@[host]:[port]/[database_name]?schema=public"

# Redis / BullMQ Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false

# ==========================================
# üîê B·∫¢O M·∫¨T & AUTHENTICATION (JWT)
# ==========================================
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here
JWT_REFRESH_EXPIRES_IN=30d

# Rate limiting
RATE_LIMIT_MAX_REQUESTS=10000       # Gi·ªõi h·∫°n chung cho t·∫•t c·∫£ API
RATE_LIMIT_WINDOW_MS=1              # Th·ªùi gian window (15 ph√∫t)
AUTH_RATE_LIMIT_MAX=5000            # Gi·ªõi h·∫°n cho auth endpoints

# ==========================================
# üìß C·∫§U H√åNH EMAIL (NODEMAILER)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here

EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME="Your App Name"

# Link h·ªó tr·ª£ email
EMAIL_VERIFICATION_URL=http://localhost:3000/verify-email
PASSWORD_RESET_URL=http://localhost:3000/reset-password

# ==========================================
# üî• C·∫§U H√åNH FIREBASE
# ==========================================
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_firebase_private_key_here\n-----END PRIVATE KEY-----\n"


# ==========================================
# ü§ñ C·∫§U H√åNH AI & RAG
# ==========================================
# Provider: ollama | openai | gemini | claude

# AI - Ollama (Local LLM)
OLLAMA_ENABLED=true
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text:latest

# # LLM 
AI_PROVIDER=ollama
# OLLAMA_MODEL=llama3.1:latest 
OLLAMA_MODEL=gemma3:1b
OLLAMA_TEMPERATURE=0.7
OLLAMA_MAX_TOKENS=2000


# LLM - OPENAI (External API)
# AI_PROVIDER=openai
# OPENAI_API_KEY=sk-proj-your_openai_api_key_here
# OPENAI_MODEL=gpt-4o-mini
# OPENAI_TEMPERATURE=0.7
# OPENAI_MAX_TOKENS=2000

# LLM - GEMINI
# AI_PROVIDER=gemini
# GEMINI_API_KEY=your_gemini_api_key_here
# GEMINI_MODEL=gemini-1.5-flash
# GEMINI_TEMPERATURE=0.7
# GEMINI_MAX_TOKENS=2000

# LLM - CLAUDE
# AI_PROVIDER=claude
# ANTHROPIC_API_KEY=your_anthropic_api_key_here
# ANTHROPIC_MODEL=claude-3-5-haiku-20241022
# ANTHROPIC_TEMPERATURE=0.7
# ANTHROPIC_MAX_TOKENS=2000

# RAG Configuration
RAG_ENABLED=true
RAG_USE_QUEUE=true
RAG_HYBRID_SEARCH=true
RAG_VECTOR_WEIGHT=0.7
RAG_KEYWORD_WEIGHT=0.3
RAG_SIMILARITY_THRESHOLD=0.4

# Whisper Configuration (Transcription)
WHISPER_ENABLED=true                    # b·∫≠t/t·∫Øt auto transcript (default: true)
WHISPER_AUTO_TRANSCRIBE=true
WHISPER_COMMAND="py -m whisper"         # t√™n CLI; ƒë·ªïi n·∫øu b·∫°n d√πng script kh√°c
WHISPER_MODEL=medium                    # tiny / base / small / medium / large...
WHISPER_TASK=transcribe                 # transcribe ho·∫∑c translate
WHISPER_OUTPUT_FORMAT=all               # all | txt | srt | vtt...
WHISPER_OUTPUT_DIR=uploads/transcripts  # th∆∞ m·ª•c l∆∞u file
WHISPER_LANGUAGE=vi                     # ƒë·ªÉ tr·ªëng = auto detect; ho·∫∑c set "vi", "en", ...
WHISPER_FP16=false                      # true n·∫øu GPU h·ªó tr·ª£ fp16, false cho CPU
WHISPER_MAX_CONCURRENT=3                # s·ªë phi√™n concurrent (m·∫∑c ƒë·ªãnh: s·ªë core CPU)

# ==========================================
# üí≥ C·ªîNG THANH TO√ÅN (PAYMENT GATEWAYS)
# ==========================================
# VNPAY
VNPAY_TMN_CODE=your_vnpay_tmn_code
VNPAY_HASH_SECRET=your_vnpay_hash_secret
VNPAY_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
VNPAY_RETURN_URL=http://localhost:3000/payment/result
VNPAY_IPN_URL=https://your-domain.ngrok-free.dev/api/v1/payments/vnpay/webhook
VNPAY_EXPIRATION_MINUTES=15

# MOMO
MOMO_PARTNER_CODE=MOMO
MOMO_ACCESS_KEY=your_momo_access_key
MOMO_SECRET_KEY=your_momo_secret_key
MOMO_ENDPOINT=https://test-payment.momo.vn/v2/gateway/api/create
MOMO_REFUND_ENDPOINT=https://test-payment.momo.vn/v2/gateway/api/refund
MOMO_RETURN_URL=http://localhost:3000/payment/result
MOMO_NOTIFY_URL=https://your-domain.ngrok-free.dev/api/v1/payments/momo/webhook

# ==========================================
# üìÅ QU·∫¢N L√ù FILE & VIDEO
# ==========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=104857600
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_VIDEO_TYPES=mp4,webm,mov

# Video progress (0.1 = 10%)
VIDEO_COMPLETE_THRESHOLD=0.1
